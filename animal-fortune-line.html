<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>å‹•ç‰©ã‚­ãƒ£ãƒ©å ã„</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
  body {
    font-family: "Hiragino Kaku Gothic ProN", "Yu Gothic", "Meiryo", sans-serif;
    background: linear-gradient(180deg, #FFF8E1 0%, #FFF3E0 50%, #FFF8E1 100%);
    min-height: 100vh;
    color: #333;
    line-height: 1.6;
    padding: 0;
  }

  /* Header */
  .header {
    background: linear-gradient(135deg, #a4c639, #8db32a);
    text-align: center;
    padding: 20px 16px 16px;
    position: relative;
    overflow: hidden;
  }
  .header::before {
    content: "";
    position: absolute;
    top: -30px; right: -30px;
    width: 100px; height: 100px;
    background: rgba(255,255,255,0.1);
    border-radius: 50%;
  }
  .header-emoji { font-size: 36px; margin-bottom: 4px; }
  .header-title {
    font-size: 22px;
    font-weight: bold;
    color: #fff;
    text-shadow: 1px 1px 3px rgba(0,0,0,0.2);
    letter-spacing: 2px;
  }
  .header-sub {
    font-size: 11px;
    color: rgba(255,255,255,0.85);
    margin-top: 4px;
    letter-spacing: 1px;
  }

  /* Container */
  .container {
    max-width: 420px;
    margin: 0 auto;
    padding: 20px 16px 40px;
  }

  /* Form Card */
  .card {
    background: #fff;
    border-radius: 16px;
    padding: 24px 20px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.08);
    margin-bottom: 20px;
  }
  .card-title {
    font-size: 15px;
    font-weight: bold;
    color: #5d8a1e;
    margin-bottom: 16px;
    display: flex;
    align-items: center;
    gap: 8px;
  }
  .card-title .num {
    width: 24px; height: 24px;
    background: #a4c639;
    color: #fff;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 13px;
    flex-shrink: 0;
  }

  /* Birthday inputs */
  .birthday-row {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    margin-bottom: 8px;
  }
  .birthday-row input {
    width: 72px;
    padding: 12px 6px;
    border: 2px solid #e0e0e0;
    border-radius: 10px;
    font-size: 18px;
    text-align: center;
    background: #fafafa;
    color: #333;
    transition: border-color 0.3s;
    -webkit-appearance: none;
    appearance: none;
  }
  .birthday-row input:focus {
    outline: none;
    border-color: #a4c639;
    background: #fff;
  }
  .birthday-row .unit {
    font-size: 14px;
    color: #888;
    min-width: 16px;
  }

  /* Gender */
  .gender-row {
    display: flex;
    gap: 12px;
    justify-content: center;
  }
  .gender-btn {
    flex: 1;
    max-width: 140px;
    padding: 14px 0;
    border: 2px solid #e0e0e0;
    border-radius: 12px;
    background: #fafafa;
    cursor: pointer;
    text-align: center;
    font-size: 18px;
    font-weight: bold;
    transition: all 0.3s;
    -webkit-user-select: none;
    user-select: none;
  }
  .gender-btn.male { color: #42A5F5; }
  .gender-btn.female { color: #EC407A; }
  .gender-btn.active {
    border-color: #a4c639;
    background: #f0f7d4;
    box-shadow: 0 2px 8px rgba(164,198,57,0.3);
  }

  /* CTA Button */
  .cta-btn {
    display: block;
    width: 100%;
    padding: 16px;
    background: linear-gradient(135deg, #a4c639, #8db32a);
    color: #fff;
    border: none;
    border-radius: 14px;
    font-size: 18px;
    font-weight: bold;
    letter-spacing: 2px;
    cursor: pointer;
    box-shadow: 0 4px 15px rgba(164,198,57,0.4);
    transition: all 0.3s;
    margin-top: 20px;
  }
  .cta-btn:active {
    transform: scale(0.97);
    box-shadow: 0 2px 8px rgba(164,198,57,0.3);
  }

  /* Result */
  .result-card {
    display: none;
    background: #fff;
    border-radius: 16px;
    padding: 30px 20px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.08);
    text-align: center;
    animation: fadeInUp 0.5s ease;
  }
  @keyframes fadeInUp {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
  .result-label {
    font-size: 13px;
    color: #aaa;
    margin-bottom: 6px;
  }
  .result-emoji {
    font-size: 80px;
    margin: 8px 0;
    animation: bounce 0.6s ease 0.3s;
  }
  @keyframes bounce {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.15); }
  }
  .result-number {
    display: inline-block;
    background: #f0f7d4;
    color: #5d8a1e;
    font-size: 13px;
    font-weight: bold;
    padding: 4px 14px;
    border-radius: 20px;
    margin-bottom: 8px;
  }
  .result-name {
    font-size: 26px;
    font-weight: bold;
    color: #333;
    margin: 8px 0 4px;
  }
  .result-animal-type {
    font-size: 14px;
    color: #a4c639;
    font-weight: bold;
    margin-bottom: 16px;
  }
  .result-divider {
    height: 1px;
    background: linear-gradient(90deg, transparent, #ddd, transparent);
    margin: 16px 0;
  }
  .result-desc {
    font-size: 14px;
    color: #555;
    line-height: 1.9;
    text-align: left;
    padding: 16px;
    background: #fafaf5;
    border-radius: 12px;
  }
  .result-traits {
    display: flex;
    gap: 8px;
    justify-content: center;
    flex-wrap: wrap;
    margin-top: 16px;
  }
  .trait-tag {
    background: #f0f7d4;
    color: #5d8a1e;
    font-size: 12px;
    padding: 5px 12px;
    border-radius: 20px;
    font-weight: bold;
  }

  /* Retry button */
  .retry-btn {
    display: inline-block;
    margin-top: 20px;
    padding: 12px 40px;
    background: #fff;
    color: #a4c639;
    border: 2px solid #a4c639;
    border-radius: 12px;
    font-size: 15px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s;
  }
  .retry-btn:active {
    background: #f0f7d4;
  }

  /* Footer */
  .footer {
    text-align: center;
    padding: 16px;
    font-size: 11px;
    color: #bbb;
  }

  /* Error shake */
  @keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-4px); }
    75% { transform: translateX(4px); }
  }
  .shake { animation: shake 0.3s; }
</style>
</head>
<body>

<!-- Header -->
<div class="header">
  <div class="header-emoji">ğŸ¾</div>
  <div class="header-title">å‹•ç‰©ã‚­ãƒ£ãƒ©å ã„</div>
  <div class="header-sub">ã‚ãªãŸã®æœ¬è³ªã‚’60ç¨®é¡ã®å‹•ç‰©ã‚­ãƒ£ãƒ©ã§è¨ºæ–­</div>
</div>

<!-- Form -->
<div class="container">

  <div class="card" id="formCard">
    <div class="card-title"><span class="num">1</span> ç”Ÿå¹´æœˆæ—¥ã‚’å…¥åŠ›</div>
    <div class="birthday-row">
      <input type="number" id="birthYear" placeholder="1990" inputmode="numeric" pattern="[0-9]*">
      <span class="unit">å¹´</span>
      <input type="number" id="birthMonth" placeholder="1" inputmode="numeric" pattern="[0-9]*">
      <span class="unit">æœˆ</span>
      <input type="number" id="birthDay" placeholder="1" inputmode="numeric" pattern="[0-9]*">
      <span class="unit">æ—¥</span>
    </div>
  </div>

  <div class="card">
    <div class="card-title"><span class="num">2</span> æ€§åˆ¥ã‚’é¸æŠ</div>
    <div class="gender-row">
      <div class="gender-btn male" onclick="selectGender(this,'ç”·æ€§')">â™‚ ç”·æ€§</div>
      <div class="gender-btn female" onclick="selectGender(this,'å¥³æ€§')">â™€ å¥³æ€§</div>
    </div>
  </div>

  <button class="cta-btn" onclick="doFortune()">ğŸ”® å‹•ç‰©ã‚’è¦‹ã¦ã¿ã‚‹</button>

  <!-- Result -->
  <div class="result-card" id="resultCard">
    <div class="result-label">ã‚ãªãŸã®å‹•ç‰©ã‚­ãƒ£ãƒ©ã¯â€¦</div>
    <div class="result-emoji" id="resultEmoji"></div>
    <div class="result-number" id="resultNumber"></div>
    <div class="result-name" id="resultName"></div>
    <div class="result-animal-type" id="resultType"></div>
    <div class="result-divider"></div>
    <div class="result-desc" id="resultDesc"></div>
    <div class="result-traits" id="resultTraits"></div>
    <button class="retry-btn" onclick="retry()">ã‚‚ã†ä¸€åº¦å ã†</button>
  </div>

  <div class="footer">Â© å‹•ç‰©ã‚­ãƒ£ãƒ©å ã„</div>
</div>

<script>
// ç”Ÿå¹´æœˆæ—¥æ—©è¦‹è¡¨ãƒ‡ãƒ¼ã‚¿
const Y={1945:[6,37,5,36,6,37,7,38,9,39,10,40],1946:[11,42,10,41,11,42,12,43,14,44,15,45],1947:[16,47,15,46,16,47,17,48,19,49,20,50],1948:[21,52,21,52,22,53,23,54,25,55,26,56],1949:[27,58,26,57,27,58,28,59,30,0,31,1],1950:[32,3,31,2,32,3,33,4,35,5,36,6],1951:[37,8,36,7,37,8,38,9,40,10,41,11],1952:[42,13,42,13,43,14,44,15,46,16,47,17],1953:[48,19,47,18,48,19,49,20,51,21,52,22],1954:[53,24,52,23,53,24,54,25,56,26,57,27],1955:[58,29,57,28,58,29,59,30,1,31,2,32],1956:[3,34,3,34,4,35,5,36,7,37,8,38],1957:[9,40,8,39,9,40,10,41,12,42,13,43],1958:[14,45,13,44,14,45,15,46,17,47,18,48],1959:[19,50,18,49,19,50,20,51,22,52,23,53],1960:[24,55,24,55,25,56,26,57,28,58,29,59],1961:[30,1,29,0,30,1,31,2,33,3,34,4],1962:[35,6,34,5,35,6,36,7,38,8,39,9],1963:[40,11,39,10,40,11,41,12,43,13,44,14],1964:[45,16,45,16,46,17,47,18,49,19,50,20],1965:[51,22,50,21,51,22,52,23,54,24,55,25],1966:[56,27,55,26,56,27,57,28,59,29,0,30],1967:[1,32,0,31,1,32,2,33,4,34,5,35],1968:[6,37,6,37,7,38,8,39,10,40,11,41],1969:[12,43,11,42,12,43,13,44,15,45,16,46],1970:[17,48,16,47,17,48,18,49,20,50,21,51],1971:[22,53,21,52,22,53,23,54,25,55,26,56],1972:[27,58,27,58,28,59,29,0,31,1,32,2],1973:[33,4,32,3,33,4,34,5,36,6,37,7],1974:[38,9,37,8,38,9,39,10,41,11,42,12],1975:[43,14,42,13,43,14,44,15,46,16,47,17],1976:[48,19,48,19,49,20,50,21,52,22,53,23],1977:[54,25,53,24,54,25,55,26,57,27,58,28],1978:[59,30,58,29,59,30,0,31,2,32,3,33],1979:[4,35,3,34,4,35,5,36,7,37,8,38],1980:[9,40,9,40,10,41,11,42,13,43,14,44],1981:[15,46,14,45,15,46,16,47,18,48,19,49],1982:[20,51,19,50,20,51,21,52,23,53,24,54],1983:[25,56,24,55,25,56,26,57,28,58,29,59],1984:[30,1,30,1,31,2,32,3,34,4,35,5],1985:[36,7,35,6,36,7,37,8,39,9,40,10],1986:[41,12,40,11,41,12,42,13,44,14,45,15],1987:[46,17,45,16,46,17,47,18,49,19,50,20],1988:[51,22,51,22,52,23,53,24,55,25,56,26],1989:[57,28,56,27,57,28,58,29,0,30,1,31],1990:[2,33,1,32,2,33,3,34,5,35,6,36],1991:[7,38,6,37,7,38,8,39,10,40,11,41],1992:[12,43,12,43,13,44,14,45,16,46,17,47],1993:[18,49,17,48,18,49,19,50,21,51,22,52],1994:[23,54,22,53,23,54,24,55,26,56,27,57],1995:[28,59,27,58,28,59,29,0,31,1,32,2],1996:[33,4,33,4,34,5,35,6,37,7,38,8],1997:[39,10,38,9,39,10,40,11,42,12,43,13],1998:[44,15,43,14,44,15,45,16,47,17,48,18],1999:[49,20,48,19,49,20,50,21,52,22,53,23],2000:[54,25,54,25,55,26,56,27,58,28,59,29],2001:[0,31,59,30,0,31,1,32,3,33,4,34],2002:[5,36,4,35,5,36,6,37,8,38,9,39],2003:[10,41,9,40,10,41,11,42,13,43,14,44],2004:[15,46,15,46,16,47,17,48,19,49,20,50],2005:[21,52,20,51,21,52,22,53,24,54,25,55],2006:[26,57,25,56,26,57,27,58,29,59,30,60],2007:[31,2,30,1,31,2,32,3,34,4,35,5],2008:[36,7,36,7,37,8,38,9,40,10,41,11],2009:[42,13,41,12,42,13,43,14,45,15,46,16],2010:[47,18,46,17,47,18,48,19,50,20,51,21],2011:[52,23,51,22,52,23,53,24,55,25,56,26],2012:[57,28,57,28,58,29,59,30,1,31,2,32],2013:[3,34,2,33,3,34,4,35,6,36,7,37],2014:[8,39,7,38,8,39,9,40,11,41,12,42],2015:[13,44,12,43,13,44,14,45,16,46,17,47],2016:[18,49,18,49,19,50,20,51,22,52,23,53],2017:[24,55,23,54,24,55,25,56,27,57,28,58],2018:[29,0,28,59,29,0,30,1,32,2,33,3],2019:[34,5,33,4,34,5,35,6,37,7,38,8],2020:[39,10,39,10,40,11,41,12,43,13,44,14]};

// 60ç¨®é¡
const C=[
  [1,'æŒä¹…åŠ›ã®ã‚ã‚‹ãƒãƒ¼ã‚¿ãƒ¼'],[2,'ç¤¾äº¤çš„ãªãŸã¬ã'],[3,'æ´»ç™ºãªçŒ¿'],[4,'æ©Ÿæ•ãªã‚³ã‚¢ãƒ©'],
  [5,'ä¸–è©±å¥½ããªé»’ãƒ’ãƒ§ã‚¦'],[6,'æ„›ã«ã‚ãµã‚Œã‚‹ãƒˆãƒ©'],[7,'æ©Ÿæ•ãªãƒãƒ¼ã‚¿ãƒ¼'],[8,'å“æ ¼ã®ã‚ã‚‹ãŸã¬ã'],
  [9,'é‡æœ›ã‚’æŒã£ãŸçŒ¿'],[10,'é¢å€’è¦‹ã®è‰¯ã„ã‚³ã‚¢ãƒ©'],[11,'èª å®Ÿãªã“ã˜ã‹'],[12,'å¥½æ„Ÿã®ã‚‚ãŸã‚Œã‚‹ã‚¾ã‚¦'],
  [13,'ãŠèª¿å­è€…ã®ç‹¼'],[14,'è‡ªç”±æ°—ã¾ã¾ãªã²ã¤ã˜'],[15,'è¦ªåˆ†è‚Œã®çŒ¿'],[16,'ç¤¾äº¤çš„ãªã‚³ã‚¢ãƒ©'],
  [17,'å¤§ããªå¿—ã‚’ã‚‚ã£ãŸã“ã˜ã‹'],[18,'å‚·ã¤ãã‚„ã™ã„ã‚¾ã‚¦'],[19,'ã•ã™ã‚‰ã„ã®ç‹¼'],[20,'ç©ã‚„ã‹ãªã²ã¤ã˜'],
  [21,'ç‰©é™ã‹ãªãƒšã‚¬ã‚µã‚¹'],[22,'è¼ãç¿¼ã‚’æŒã¤ãƒšã‚¬ã‚µã‚¹'],[23,'ç´”ç²‹ç„¡å¢ãªã²ã¤ã˜'],[24,'æ‰èƒ½æº¢ã‚Œã‚‹ç‹¼'],
  [25,'ã»ã®ã¼ã®ã¨ã—ãŸçŒ¿'],[26,'åŠªåŠ›å®¶ã®ã²ã¤ã˜'],[27,'æ³¢ä¹±ä¸‡ä¸ˆãªãƒšã‚¬ã‚µã‚¹'],[28,'å“æ ¼ã®ã‚ã‚‹ãƒšã‚¬ã‚µã‚¹'],
  [29,'æŒ‘æˆ¦å¤§å¥½ããªã²ã¤ã˜'],[30,'é©å¿œåŠ›ã®ã‚ã‚‹ç‹¼'],
  [31,'çµ±ç‡åŠ›ã®ã‚ã‚‹ã‚¾ã‚¦'],[32,'å‹¤å‹‰ãªã“ã˜ã‹'],[33,'å‹•ãã¾ã‚ã‚‹ã‚³ã‚¢ãƒ©'],[34,'ä¸–æ¸¡ã‚Šä¸Šæ‰‹ãªçŒ¿'],
  [35,'é ¼ã‚Šã«ã•ã‚Œã‚‹ã²ã¤ã˜'],[36,'æ„›ã•ã‚Œã‚‹ç‹¼'],[37,'å…¨åŠ›ç–¾èµ°ã™ã‚‹ã‚¾ã‚¦'],[38,'ã‚¨ãƒ¬ã‚¬ãƒ³ãƒˆãªã“ã˜ã‹'],
  [39,'å¤§ããªå¤¢ã‚’æŒã¤ã‚³ã‚¢ãƒ©'],[40,'çŒ®èº«çš„ãªçŒ¿'],[41,'åŠªåŠ›å®¶ã®ãŸã¬ã'],[42,'å‹‡æ•¢ãªãƒãƒ¼ã‚¿ãƒ¼'],
  [43,'æ´»ç™ºãªãƒˆãƒ©'],[44,'ãƒ­ãƒãƒ³ãƒã‚¹ãƒˆãªé»’ãƒ’ãƒ§ã‚¦'],[45,'å™¨ç”¨ã§èŠ¸é”è€…ãªã‚³ã‚¢ãƒ©'],[46,'ç”¨å¿ƒæ·±ã„ç‹¼'],
  [47,'äººæƒ…å‘³ã«ã‚ãµã‚Œã‚‹ãŸã¬ã'],[48,'ä¸Šå“ãªãƒãƒ¼ã‚¿ãƒ¼'],[49,'ã®ã‚“ã³ã‚Šã—ãŸãƒˆãƒ©'],[50,'æµ®ãæ²ˆã¿ãŒæ¿€ã—ã„é»’ãƒ’ãƒ§ã‚¦'],
  [51,'è‡ªç”±æ°—ã¾ã¾ãªãƒ©ã‚¤ã‚ªãƒ³'],[52,'ãƒªãƒ¼ãƒ€ãƒ¼æ°—è³ªã®ãƒ©ã‚¤ã‚ªãƒ³'],[53,'äººé–“å‘³ã‚ãµã‚Œã‚‹é»’ãƒ’ãƒ§ã‚¦'],[54,'ãƒã‚¸ãƒ†ã‚£ãƒ–ãªãƒˆãƒ©'],
  [55,'åŠ›å¼·ã„ãƒˆãƒ©'],[56,'ãŠæ°—æ¥½ãªé»’ãƒ’ãƒ§ã‚¦'],[57,'æ„Ÿæƒ…è±Šã‹ãªãƒ©ã‚¤ã‚ªãƒ³'],[58,'è‡†ç—…ãªãƒ©ã‚¤ã‚ªãƒ³'],
  [59,'æŸç¸›ãŒå«Œã„ãªé»’ãƒ’ãƒ§ã‚¦'],[60,'å¤©ä½¿ã®ã‚ˆã†ãªãƒˆãƒ©']
];

const emoji={
  'ãƒãƒ¼ã‚¿ãƒ¼':'ğŸ†','ãŸã¬ã':'ğŸ¦','çŒ¿':'ğŸµ','ã‚³ã‚¢ãƒ©':'ğŸ¨',
  'é»’ãƒ’ãƒ§ã‚¦':'ğŸˆâ€â¬›','ãƒˆãƒ©':'ğŸ¯','ã“ã˜ã‹':'ğŸ¦Œ','ã‚¾ã‚¦':'ğŸ˜',
  'ç‹¼':'ğŸº','ã²ã¤ã˜':'ğŸ‘','ãƒšã‚¬ã‚µã‚¹':'ğŸ¦„','ãƒ©ã‚¤ã‚ªãƒ³':'ğŸ¦'
};

const traits={
  'ç‹¼':['ç‹¬ç«‹å¿ƒ','èª å®Ÿ','ãƒã‚¤ãƒšãƒ¼ã‚¹','ç´„æŸã‚’å®ˆã‚‹'],
  'ã“ã˜ã‹':['ç´”ç²‹','ç´ ç›´','äººæ‡ã£ã“ã„','ç”˜ãˆä¸Šæ‰‹'],
  'çŒ¿':['å™¨ç”¨','ç¤¾äº¤çš„','å¥½å¥‡å¿ƒæ—ºç››','ãƒ¦ãƒ¼ãƒ¢ã‚¢'],
  'ãƒãƒ¼ã‚¿ãƒ¼':['æ±ºæ–­åŠ›','ç¬ç™ºåŠ›','ç›®æ¨™å¿—å‘','ã‚¹ãƒ”ãƒ¼ãƒ‰æ„Ÿ'],
  'é»’ãƒ’ãƒ§ã‚¦':['æ„Ÿæ€§è±Šã‹','æ­£ç¾©æ„Ÿ','æƒ…ç†±çš„','ç¾æ„è­˜'],
  'ãƒ©ã‚¤ã‚ªãƒ³':['ãƒªãƒ¼ãƒ€ãƒ¼','è‡ªä¿¡å®¶','é¢å€’è¦‹','å­˜åœ¨æ„Ÿ'],
  'ãƒˆãƒ©':['ç¾©ç†äººæƒ…','è²¬ä»»æ„Ÿ','ãƒãƒ©ãƒ³ã‚¹','è¦ªåˆ†è‚Œ'],
  'ãŸã¬ã':['ç¤¾äº¤çš„','æ„›å¬Œ','å ´ã®ç©ºæ°—','äººãŸã‚‰ã—'],
  'ã‚³ã‚¢ãƒ©':['å¹³å’Œä¸»ç¾©','ãƒ­ãƒãƒ³ãƒã‚¹ãƒˆ','é›†ä¸­åŠ›','ç™’ã—ç³»'],
  'ã‚¾ã‚¦':['åŠªåŠ›å®¶','å¿è€åŠ›','ç¹Šç´°','å¤§å™¨æ™©æˆ'],
  'ã²ã¤ã˜':['å„ªã—ã„','ä»²é–“æ€ã„','æƒ…å ±é€š','å”èª¿æ€§'],
  'ãƒšã‚¬ã‚µã‚¹':['è‡ªç”±','ç›´æ„ŸåŠ›','å¤©æ‰è‚Œ','ç‹¬å‰µçš„']
};

const descs={
  'ç‹¼':'ä¸€åŒ¹ç‹¼ã¨ã„ã†è¨€è‘‰é€šã‚Šã€è‡ªåˆ†ã®ãƒšãƒ¼ã‚¹ã‚’å¤§åˆ‡ã«ã™ã‚‹äººã§ã™ã€‚ç‹¬è‡ªã®ä¸–ç•Œè¦³ã‚’æŒã¡ã€ä»–äººã«æµã•ã‚Œãªã„å¼·ã•ãŒã‚ã‚Šã¾ã™ã€‚ç´„æŸã‚’å®ˆã‚Šã€ä¿¡é ¼ã•ã‚Œã‚‹å­˜åœ¨ã€‚ä¸€äººã®æ™‚é–“ã‚’å¤§åˆ‡ã«ã—ã¾ã™ãŒã€å¿ƒã‚’é–‹ã„ãŸç›¸æ‰‹ã«ã¯ã¨ã“ã¨ã‚“èª å®Ÿã§ã™ã€‚',
  'ã“ã˜ã‹':'ç´”ç²‹ã§ç´ ç›´ãªæ€§æ ¼ã®æŒã¡ä¸»ã€‚äººæ‡ã£ã“ãã€å‘¨å›²ã‹ã‚‰æ„›ã•ã‚Œã‚‹å­˜åœ¨ã§ã™ã€‚ç”˜ãˆä¸Šæ‰‹ã§ã€äººã¨ã®è·é›¢æ„Ÿã‚’å¤§åˆ‡ã«ã—ã¾ã™ã€‚åˆå¯¾é¢ã§ã¯è­¦æˆ’ã—ã¾ã™ãŒã€ä»²è‰¯ããªã‚‹ã¨ã¨ã¦ã‚‚è¦ªã—ã¿ã‚„ã™ã„äººæŸ„ãŒç¾ã‚Œã¾ã™ã€‚',
  'çŒ¿':'å™¨ç”¨ã§é ­ã®å›è»¢ãŒé€Ÿãã€ç¤¾äº¤çš„ãªæ€§æ ¼ã€‚ã©ã‚“ãªå ´é¢ã§ã‚‚è‡¨æ©Ÿå¿œå¤‰ã«å¯¾å¿œã§ãã‚‹æŸ”è»Ÿæ€§ãŒã‚ã‚Šã¾ã™ã€‚å¥½å¥‡å¿ƒæ—ºç››ã§æ–°ã—ã„ã“ã¨ã«æŒ‘æˆ¦ã™ã‚‹ã®ãŒå¥½ãã€‚ãƒ¦ãƒ¼ãƒ¢ã‚¢ã®ã‚»ãƒ³ã‚¹ãŒã‚ã‚Šã€å ´ã‚’æ˜ã‚‹ãã™ã‚‹ãƒ ãƒ¼ãƒ‰ãƒ¡ãƒ¼ã‚«ãƒ¼ã§ã™ã€‚',
  'ãƒãƒ¼ã‚¿ãƒ¼':'ç›®æ¨™ã«å‘ã‹ã£ã¦ä¸€ç›´ç·šã«çªãé€²ã‚€ã‚¿ã‚¤ãƒ—ã€‚ã‚¹ãƒ”ãƒ¼ãƒ‰æ„Ÿã‚’å¤§åˆ‡ã«ã—ã€æ±ºæ–­åŠ›ãŒã‚ã‚Šã¾ã™ã€‚ç¬ç™ºåŠ›ã«å„ªã‚Œã€ãƒãƒ£ãƒ³ã‚¹ã‚’é€ƒã—ã¾ã›ã‚“ã€‚ç†±ã—ã‚„ã™ãå†·ã‚ã‚„ã™ã„é¢ã‚‚ã‚ã‚Šã¾ã™ãŒã€æœ¬æ°—ã«ãªã£ãŸæ™‚ã®é›†ä¸­åŠ›ã¯æŠœç¾¤ã§ã™ã€‚',
  'é»’ãƒ’ãƒ§ã‚¦':'æ„Ÿæ€§ãŒé‹­ãã€ç¾çš„ã‚»ãƒ³ã‚¹ã«å„ªã‚ŒãŸäººã€‚æƒ…ç†±çš„ã§ã‚ã‚ŠãªãŒã‚‰ã‚¯ãƒ¼ãƒ«ãªä¸€é¢ã‚‚æŒã¡åˆã‚ã›ã¦ã„ã¾ã™ã€‚æ­£ç¾©æ„ŸãŒå¼·ãã€å¼±ã„è€…ã‚’å®ˆã‚ã†ã¨ã™ã‚‹å„ªã—ã•ãŒã‚ã‚Šã¾ã™ã€‚ãƒ—ãƒ©ã‚¤ãƒ‰ãŒé«˜ã„åˆ†ã€åŠªåŠ›ã‚’æƒœã—ã¿ã¾ã›ã‚“ã€‚',
  'ãƒ©ã‚¤ã‚ªãƒ³':'å ‚ã€…ã¨ã—ãŸå­˜åœ¨æ„ŸãŒã‚ã‚Šã€ç”Ÿã¾ã‚ŒãªãŒã‚‰ã®ãƒªãƒ¼ãƒ€ãƒ¼ã‚¿ã‚¤ãƒ—ã€‚è‡ªä¿¡ã«æº€ã¡ã€å‘¨å›²ã‚’å¼•ã£å¼µã‚‹åŠ›ãŒã‚ã‚Šã¾ã™ã€‚é¢å€’è¦‹ãŒã‚ˆãã€é ¼ã‚‰ã‚Œã‚‹ã“ã¨ã«å–œã³ã‚’æ„Ÿã˜ã¾ã™ã€‚ãƒ—ãƒ©ã‚¤ãƒ‰ã‚’å¤§åˆ‡ã«ã—ãªãŒã‚‰ã‚‚ã€å¿ƒã®ä¸­ã¯æ¸©ã‹ã„äººã§ã™ã€‚',
  'ãƒˆãƒ©':'ç¾©ç†äººæƒ…ã«åšãã€é¢å€’è¦‹ã®è‰¯ã„è¦ªåˆ†è‚Œã‚¿ã‚¤ãƒ—ã€‚ãƒãƒ©ãƒ³ã‚¹æ„Ÿè¦šã«å„ªã‚Œã€å‘¨å›²ã¸ã®æ°—é…ã‚Šã‚’å¿˜ã‚Œã¾ã›ã‚“ã€‚è²¬ä»»æ„ŸãŒå¼·ãã€ä¸€åº¦å¼•ãå—ã‘ãŸã“ã¨ã¯æœ€å¾Œã¾ã§ã‚„ã‚Šé‚ã’ã¾ã™ã€‚æ¸©ã‹ã„äººæŸ„ã§å¤šãã®äººã‹ã‚‰æ…•ã‚ã‚Œã¾ã™ã€‚',
  'ãŸã¬ã':'ç¤¾äº¤çš„ã§äººå½“ãŸã‚ŠãŒè‰¯ãã€èª°ã¨ã§ã‚‚ä»²è‰¯ããªã‚Œã‚‹äººã€‚å ´ã®ç©ºæ°—ã‚’èª­ã‚€åŠ›ã«é•·ã‘ã¦ã„ã¾ã™ã€‚ã®ã‚“ã³ã‚Šã—ã¦ã„ã‚‹ã‚ˆã†ã«è¦‹ãˆã¦ã€å®Ÿã¯è¨ˆç®—é«˜ã„ä¸€é¢ã‚‚ã€‚æ„›å¬ŒãŒã‚ã‚Šã€äººã‹ã‚‰å¥½ã‹ã‚Œã‚‹å¤©æ€§ã®é­…åŠ›ã‚’æŒã£ã¦ã„ã¾ã™ã€‚',
  'ã‚³ã‚¢ãƒ©':'ç©ã‚„ã‹ã§å¹³å’Œä¸»ç¾©ãªæ€§æ ¼ã€‚äº‰ã„ã”ã¨ã‚’å¥½ã¾ãšã€èª¿å’Œã‚’å¤§åˆ‡ã«ã—ã¾ã™ã€‚ãƒ­ãƒãƒ³ãƒã‚¹ãƒˆã§å¤¢è¦‹ãŒã¡ãªä¸€é¢ã‚‚ã€‚å¥½ããªã“ã¨ã«å¯¾ã—ã¦ã¯é©šãã»ã©ã®é›†ä¸­åŠ›ã‚’ç™ºæ®ã—ã¾ã™ã€‚ç™’ã—ã®ã‚ªãƒ¼ãƒ©ã§å‘¨å›²ã‚’å’Œã¾ã›ã‚‹å­˜åœ¨ã§ã™ã€‚',
  'ã‚¾ã‚¦':'åŠªåŠ›å®¶ã§ã‚³ãƒ„ã‚³ãƒ„ã¨ç‰©äº‹ã‚’ç©ã¿ä¸Šã’ã¦ã„ãã‚¿ã‚¤ãƒ—ã€‚å¿è€åŠ›ãŒã‚ã‚Šã€ä¸€åº¦æ±ºã‚ãŸã“ã¨ã¯ç²˜ã‚Šå¼·ãå–ã‚Šçµ„ã¿ã¾ã™ã€‚ãƒ‡ãƒªã‚±ãƒ¼ãƒˆãªæ„Ÿæ€§ã‚’æŒã¡ã€ä»–äººã®æ°—æŒã¡ã«æ•æ„Ÿã§ã™ã€‚å¤§å™¨æ™©æˆå‹ã§ã€æ™‚é–“ã‚’ã‹ã‘ã¦å¤§ããæˆé•·ã—ã¾ã™ã€‚',
  'ã²ã¤ã˜':'ç©ã‚„ã‹ã§å„ªã—ã„æ€§æ ¼ã®æŒã¡ä¸»ã€‚ä»²é–“æ€ã„ã§ã€ã‚°ãƒ«ãƒ¼ãƒ—ã®ä¸­ã§èª¿å’Œã‚’ä¿ã¤å½¹å‰²ã‚’æœãŸã—ã¾ã™ã€‚å¯‚ã—ãŒã‚Šå±‹ãªä¸€é¢ã‚‚ã‚ã‚Šã€ä¸€äººã§ã„ã‚‹ã‚ˆã‚Šã‚‚èª°ã‹ã¨ä¸€ç·’ã«ã„ã‚‹ã“ã¨ã‚’å¥½ã¿ã¾ã™ã€‚æƒ…å ±åé›†èƒ½åŠ›ã«å„ªã‚Œã¦ã„ã¾ã™ã€‚',
  'ãƒšã‚¬ã‚µã‚¹':'è‡ªç”±å¥”æ”¾ã§ã€æŸç¸›ã‚’å«Œã†å¤©æ‰è‚Œã‚¿ã‚¤ãƒ—ã€‚ç›´æ„ŸåŠ›ã«å„ªã‚Œã€ç‹¬å‰µçš„ãªã‚¢ã‚¤ãƒ‡ã‚¢ã‚’ç”Ÿã¿å‡ºã—ã¾ã™ã€‚æ°—åˆ†ã®æµ®ãæ²ˆã¿ãŒã‚ã‚Šã¾ã™ãŒã€ãƒãƒƒã¦ã„ã‚‹æ™‚ã®èƒ½åŠ›ã¯è¨ˆã‚ŠçŸ¥ã‚Œã¾ã›ã‚“ã€‚å‹ã«ã¯ã¾ã‚‰ãªã„ç”Ÿãæ–¹ã‚’è²«ãã¾ã™ã€‚'
};

let gender='';

function selectGender(el, g) {
  document.querySelectorAll('.gender-btn').forEach(b=>b.classList.remove('active'));
  el.classList.add('active');
  gender=g;
}

function doFortune() {
  const y=parseInt(document.getElementById('birthYear').value);
  const m=parseInt(document.getElementById('birthMonth').value);
  const d=parseInt(document.getElementById('birthDay').value);

  if(!y||!m||!d||m<1||m>12||d<1||d>31){
    document.getElementById('formCard').classList.add('shake');
    setTimeout(()=>document.getElementById('formCard').classList.remove('shake'),300);
    return;
  }
  if(!Y[y]){
    alert('1945å¹´ã€œ2020å¹´ã®ç¯„å›²ã§å…¥åŠ›ã—ã¦ãã ã•ã„');
    return;
  }
  if(!gender){
    document.querySelectorAll('.gender-btn').forEach(b=>{b.classList.add('shake');setTimeout(()=>b.classList.remove('shake'),300);});
    return;
  }

  const base=Y[y][m-1];
  let total=base+d;
  if(total>60)total-=60;
  if(total<=0)total+=60;

  const ch=C.find(c=>c[0]===total);
  if(!ch)return;

  const name=ch[1];
  let animal='';
  for(const k of Object.keys(emoji)){if(name.includes(k)){animal=k;break;}}

  document.getElementById('resultEmoji').textContent=emoji[animal]||'ğŸ¾';
  document.getElementById('resultNumber').textContent='No.'+total;
  document.getElementById('resultName').textContent=name;
  document.getElementById('resultType').textContent='ã€œ '+animal+'ã‚¿ã‚¤ãƒ— ã€œ';
  document.getElementById('resultDesc').textContent=descs[animal]||'';

  const traitDiv=document.getElementById('resultTraits');
  traitDiv.innerHTML='';
  (traits[animal]||[]).forEach(t=>{
    const span=document.createElement('span');
    span.className='trait-tag';
    span.textContent='#'+t;
    traitDiv.appendChild(span);
  });

  const rc=document.getElementById('resultCard');
  rc.style.display='block';
  setTimeout(()=>rc.scrollIntoView({behavior:'smooth',block:'start'}),100);
}

function retry(){
  document.getElementById('resultCard').style.display='none';
  document.getElementById('birthYear').value='';
  document.getElementById('birthMonth').value='';
  document.getElementById('birthDay').value='';
  document.querySelectorAll('.gender-btn').forEach(b=>b.classList.remove('active'));
  gender='';
  window.scrollTo({top:0,behavior:'smooth'});
}
</script>
</body>
</html>
